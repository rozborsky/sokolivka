CREATE SCHEMA `sokolivkadb` ;

create table sokolivkadb.users (
    username varchar(50) not null primary key,
    password varchar(50) not null,
    enabled boolean not null
) engine = InnoDb;

create table sokolivkadb.groups (
    id bigint unsigned not null auto_increment primary key,
    group_name varchar(50) not null
) engine = InnoDb;

create table sokolivkadb.group_authorities (
    group_id bigint unsigned not null,
    authority varchar(50) not null,
    foreign key (group_id) references sokolivkadb.groups (id)
) engine = InnoDb;

create table sokolivkadb.group_members (
    id bigint unsigned not null auto_increment primary key,
    username varchar(50) not null,
    group_id bigint unsigned not null,
    foreign key (group_id) references sokolivkadb.groups (id)
) engine = InnoDb;

INSERT INTO `sokolivkadb`.`users` (`username`, `password`, `enabled`) VALUES ('user', 'upass', '2');
INSERT INTO `sokolivkadb`.`users` (`username`, `password`, `enabled`) VALUES ('admin', 'apass', '1');

INSERT INTO `sokolivkadb`.`groups` (`id`, `group_name`) VALUES ('1', 'administrators');
INSERT INTO `sokolivkadb`.`groups` (`id`, `group_name`) VALUES ('2', 'users');

INSERT INTO `sokolivkadb`.`group_members` (`id`, `username`, `group_id`) VALUES ('1', 'admin', '1');
INSERT INTO `sokolivkadb`.`group_members` (`id`, `username`, `group_id`) VALUES ('2', 'user', '2');

INSERT INTO `sokolivkadb`.`group_authorities` (`group_id`, `authority`) VALUES ('1', 'ROLE_ADMIN');
INSERT INTO `sokolivkadb`.`group_authorities` (`group_id`, `authority`) VALUES ('1', 'ROLE_USER');
INSERT INTO `sokolivkadb`.`group_authorities` (`group_id`, `authority`) VALUES ('2', 'ROLE_USER');
